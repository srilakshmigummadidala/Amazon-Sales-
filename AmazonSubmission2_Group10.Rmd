---
title: "Amazon Sales Dataset"
author: "Group 10: 1.Srilakshmi Gummadidala 2.Divyajot Singh Mankan 3.Jibina Francise"
date: "`r Sys.Date()`"
output:
  prettydoc::html_pretty:
    theme: architect
    highlight: github
    toc: true
---

#### Reading a Dataset

```{r}
library(readxl)
installed.packages("readxl")
Amazon_Subset4 <- read_xlsx("C:/Users/Sreelu/OneDrive - St. Clair College/Documents/St Clair/DAB501/Datasets/Amazon_Subset4.xlsx")
```

#### Install and reading Packages

```{r}
library(readr)
library(tidyverse)
install.packages("ggplot2") 
library(ggplot2)
library(dplyr)
library(scales)
library(ggthemes)
```


## **Contributed by Srilakshmi Gummadidala**

## Univariate Analysis

### 1.Numeric Variable


```{r}
ggplot(Amazon_Subset4)+
  geom_histogram(mapping=aes(x=actual_price),color="black", fill="red",width = 0.8, stat="count")+
  xlab("Actual Price \n Figure: 1.0") +
   labs(title="Bar Chart for Actual Price", 
           caption="Source: Amazon Sales Dataset") +
      theme(axis.text.x = element_text(angle=65, vjust=5))+
  theme_bw(12)+
  theme(plot.caption= element_text(size=10,
                               color="purple",
                                   face="bold",
                                  vjust = 5)) 
```

##### Description:

The pricing range of items in each category varies significantly, with a minimum price of $50 and a maximum price exceeding $60,000. However, items priced at more than $7,000 are considered outliers since only a small number of items were sold within this price range, as observed in the Amazon sales data.

#### Question:1

Clean the data for any outlier/extreme values using the filtering technique and create an appropriate plot to visualize the distribution of this variable. 

```{r}
Amazon_Subset4 <- filter(Amazon_Subset4, actual_price <= 7000)
ggplot(Amazon_Subset4, aes(x = actual_price)) +
  geom_histogram(color = "black", fill = "lightblue", binwidth = 1000) +
  xlab("Actual Price \n Figure: 1.1") +
  ggtitle("Histogram of Actual Price") +
  theme_bw(12) +
  labs(caption = "Source: Amazon Sales Dataset") +
  theme(axis.text.x = element_text(angle = 65, vjust = 0.6, hjust = 1)) 

```



#### Plot Description:

After applying a filtering method to remove extreme outliers in the Actual Price variable, which consisted of a small number of items priced between $7,000 to over $60,000, the plot distribution has become positively skewed.

#### Question: 2

Continued from #1, for any outliers present in the data. Specify the criteria used to identify them and provide a logical explanation for how you handled them.

#### Answer: 

Here, we filtered out extreme outliers from the subset of Amazon sales data based on the actual price variable, specifically keeping only observations where the actual price was less than or equal to 7000.

For example, it's possible that the data contained a few extreme values for the actual price that were far higher than the rest of the data, which could skew the results of any analysis or visualization. By filtering out those extreme values, the resulting histogram is more representative of the majority of the data and provides a clearer picture of the distribution of the actual price variable.

The specific threshold of 7000 was likely chosen based on the distribution of the data and the goals of the analysis.

#### Question: 3

Describe the shape of the data.

#### Answer:

the majority of the observations in the "actual_price" variable are concentrated at lower values, with fewer observations at higher values. The long tail on the right side of the distribution indicates that there are some extreme values in the dataset that are much larger than the rest of the data. This skewness can impact any analyses or modeling performed on the data, and may require additional transformations or adjustments to account for the non-normal distribution.

Additionally, the use of a bin width of 1000 indicates that the "actual_price" variable is continuous and has a large range, spanning at least several thousand units. Overall, the shape of the data indicates that there is a wide range of actual prices in the Amazon sales dataset, with most of the data concentrated at lower values and a few extreme values at higher values.

#### Question: 4

Based on your answer to the previous question, decide if it is appropriate to apply a transformation to your data. If no, explain why not. If yes, name the transformation applied and visualize the transformed distribution.

#### Answer:

Based on the previous answer, the right-skewed shape of the data suggests that it may be appropriate to apply a transformation to the "actual_price" variable in order to achieve a more normal distribution. One common transformation used for this purpose is the logarithmic transformation.

To apply a logarithmic transformation to the data, we can use the log() function in R to take the natural logarithm of the "actual_price" variable. This can be done by creating a new variable that contains the transformed data, as follows:



```{r}
Amazon_Subset4$log_price <- log(Amazon_Subset4$actual_price)
ggplot(Amazon_Subset4, aes(x = log_price)) +
  geom_histogram(color = "black", fill = "lightpink", binwidth = 0.5) +
  xlab("Log Actual Price \n Figure: 1.2") +
  ggtitle("Histogram of Log Actual Price") +
  theme_bw(12) +
  labs(caption = "Source: Amazon Sales Dataset") +
  theme(axis.text.x = element_text(angle = 65, vjust = 0.6, hjust = 1))
```

#### Plot Description:

To address the issue of imbalanced data with high values in the actual price range, a logarithmic transformation was applied. This has resulted in a left-skewed, unimodal distribution of the data as observed in the plot.


#### Question: 5

Choose and calculate an appropriate measure of central tendency (Mean, Median, and Mode).

#### Answer:

Since we transformed the data by taking the natural logarithm,the plot is left-skewed and unimodal, then the best measure of central tendency to use would be the median of the log-transformed data. This is because the median is less sensitive to extreme values and is a better representation of the typical value in a skewed distribution.

Therefore, in this case, it would be appropriate to use the median as the measure of central tendency to summarize the distribution of the log-transformed actual price variable in the Amazon sales dataset.

To calculate the median of the log actual price variable, you can use the median() function in R:

```{r}
median(Amazon_Subset4$log_price)

```

#### Question : 6

Explain why you chose this as your measure of central tendency. Provide supporting evidence for your choice.

#### Answer: 

We have chosen the median as the measure of central tendency for the log-transformed actual price variable because the histogram of the variable is left-skewed and unimodal. In a left-skewed distribution, the mean tends to be pulled in the direction of the skewness, and may not be a good representation of the typical value of the variable. The median, on the other hand, is not affected by extreme values or skewness, and therefore provides a better representation of the central tendency of the data.

Moreover, the median is more robust than the mean to outliers or extreme values. If there are any extreme values or outliers present in the data, then using the median as the measure of central tendency will be more appropriate than using the mean.

In addition, the median is a good measure of central tendency for unimodal distributions where the shape of the distribution is not symmetrical.

#### Question: 7

Choose and calculate a measure of spread (SD, MAD or IQR) that is appropriate for your chosen measure of central tendency. Explain why you chose this as your measure of spread.

#### Answer:

Since we have chosen the median as our measure of central tendency, the most appropriate measure of spread for the median in this case would be the interquartile range (IQR). The IQR is a robust measure of spread that is not affected by extreme values or outliers, and is therefore suitable for skewed distributions. Additionally, the IQR provides a good representation of the variability of the data around the median.

The IQR can then be used as a measure of spread to summarize the variability of the log-transformed actual price variable around the median.

To calculate the IQR, we can use the IQR() function in R:


```{r}
IQR(Amazon_Subset4$log_price)

```

### 2.Categorical Variable

#### Question: 1

Create an appropriate plot to visualize the distribution of counts for this variable.

```{r}
ggplot(Amazon_Subset4)+
  geom_bar(mapping=aes(x=categories),color="white", fill="darkgreen",width = 0.8, stat="count")+
  xlab("Categories \n Figure: 2.1")+
   labs(title="Bar Chart for Different Categories", 
           caption="Source: Amazon Sales Dataset") +
      theme(axis.text.x = element_text(angle=65, vjust=5))+
  theme_bw(10)+
  theme(plot.caption= element_text(size=10,
                               color="purple",
                                   face="bold",
                                  vjust = 5))
```

#### Plot Description:

Here, it has been determined that the "Home & Kitchen" category type is the most popular category of items sold, surpassing all other categories in terms of sales volume. On the other hand, the "Cable & Adapters" category type is the least popular, as evidenced by its lower sales volume compared to all other categories. However, the remaining categories show similar sales volumes, with no significant difference observed between them. These findings suggest that customers are more inclined towards purchasing items related to home and kitchen, while cable and adapters are comparatively less in demand.

#### Question: 2

Create an appropriate plot to visualize the distribution of proportions for this variable.

```{r}
sales_prop <- table(Amazon_Subset4$categories)/nrow(Amazon_Subset4)
ggplot(data = NULL, aes(x = "", y = sales_prop, fill = names(sales_prop))) +
  geom_bar(width = 1, stat = "identity") +
  coord_polar(theta = "y") +
  labs(title = "Proportion of Sales by Categories", 
       fill = "Categories") +
  theme_void()

```


#### Plot Description: 

The distribution plot based on the sales data subset from Amazon reveals that the "Home & Kitchen" category has the highest sales volume around 85%, indicating its popularity compared to all other categories. In contrast, the "Cable & Adapters" category has the lowest sales volume about 1%, indicating its unpopularity compared to all other categories. However, the sales volumes of the remaining categories show a similar distribution, with no significant difference observed between them.


#### Question : 3

Discuss any unusual observations for this variable?

#### Answer:

Here, it appears that there are two categories that stand out in terms of sales volume: Home & Kitchen and Electronics. *Home & Kitchen* is the most popular category, followed by *Electronics*, while all other categories have relatively low sales volumes. This observation is not unusual in itself, as it is expected to have variations in sales volume across different categories.

#### Question: 4

Discuss if there are too few/too many unique values?

#### Answer:

We have utilized a subset of the Amazon sales dataset that contains a total of six categories. Upon sub-classification of the categories column variables, it has been determined that the number of unique values in this variable is neither too few nor too many.

```{r}
uni_categories <- unique(Amazon_Subset4$categories)
uni_categories
length(uni_categories)
```

## Bivariate Analysis

### 1.Plot with 1 pair of numeric variables

```{r}
g <- ggplot(Amazon_Subset4, aes(actual_price, discount_percentage))
g + geom_boxplot(varwidth=T, fill="plum", color="black", outlier.color="red", outlier.fill="white") + 
  theme_bw()+
    labs(title="Box plot for discounted percentage over actual price of the categories",
         caption="Source: Amazon Sales Dataset", x = "Actual Price \n Figure: 3.1",
    y="Discount Percentage")
```


#### Plot Description:

The box plot reveals the relationship between actual price and discounted percentage for the selected categories. It can be observed that items with actual prices under $6000, which make up the majority of sales, have an average discount percentage of around 40%.

#### Question 2:

Describe the form, direction, and strength of the observed relationship.

#### Answer:

Form: The box plot has a rectangular box with whiskers extending from the top and bottom of the box. The box represents the interquartile range (IQR), which contains the middle 50% of the data, and the median line is shown inside the box. The whiskers extend from the box to the maximum and minimum values within 1.5 times the IQR. Outliers are plotted beyond the whiskers.

Direction: The box plot is oriented left to right, indicating increasing values of the actual_price variable along the x-axis.

Strength: Based on the quantile range, actual_price and discounted_percentage variables are weak positively correlated, which means that as the actual_price variable increases, the discount_percentage variable tends to increase as well, but only to a small extent. 

```{r}
cor(Amazon_Subset4$actual_price, Amazon_Subset4$discount_percentage)

```


#### Question 3:

Explain what this relationship means in the context of the data.

#### Answer:

The positive correlation between actual price and discount percentage (correlation coefficient of 0.204) suggests that there is a weak positive relationship between these two variables. This means that as the actual price of a product increases, there is a slight tendency for the discount percentage to also increase. However, this relationship is not very strong, indicating that the actual price is not a strong predictor of the discount percentage..

#### Question 4:

Describe the variability that you observe in the plot and how that corresponds to the strength you calculated in #2 above.

#### Answer:

This variability in the plot corresponds to the relatively weak correlation coefficient of 0.204 between actual price and discounted percentage that we calculated earlier. This suggests that there is some relationship between the two variables, but it is not particularly strong. 

The relationship between actual price and discounted percentage is influenced by a variety of factors, including category type and the specific items being sold within each category.


### 2.Plot with 1 numeric and 1 categorical variables

```{r}
ggplot(Amazon_Subset4, aes(categories, actual_price, color = categories)) +
  geom_jitter(width = 0.2, size = 2.5, alpha = 0.7) +
  labs(title="Jitter Plot for Product Categories and their Actual Price", 
       caption="Source: Amazon Sales Dataset",
       x="Categories \n Figure: 3.2",
       y="Actual Price") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "right",
    axis.line = element_line(colour = "grey60"))

```

#### Plot Description:

The Jitter plot provides insight into the distribution of sales for different categories of products based on their actual prices, with some categories having a wider distribution and higher number of sales, while others have a narrower distribution and lower number of sales. For Example, the Home&Kitchen category has the highest number of sales across a wide range of prices from low to high, with the prices ranging from $50 to above $6000. On the other hand, the Cables&Adapters category has the lowest number of sales, with actual prices mostly under $1000.


#### Question 2:
Describe the form, direction, and strength of the observed relationship.

#### Answer:

Form: The form of the relationship is shown by the distribution of points on the plot. The points are spread out in a random fashion in each category, indicating that there is no clear pattern or trend in the relationship between the two variables.

Direction: The direction of the relationship is horizontal, with the categories plotted on the x-axis and the actual price ranges on the y-axis.

Strength: The strength of the relationship is weak, as there is no clear correlation or pattern in the data. The jitter plot shows that the actual price ranges vary widely within each category, with some categories having a higher concentration of higher priced items, while others have a more even distribution of prices.


#### Question 3:

Explain what this relationship means in the context of the data.

#### Answer:

The relationship between categories and actual price means that there is a variation in the actual prices of products across different categories. This suggests that the prices of products are influenced by the category they belong to. For example, Home & Kitchen products have a wide range of actual prices, from $50 to above $6000, while Cables & Adapters have a low range of actual prices, under $1000.


#### Question 4:

Describe the variability that you observe in the plot and how that corresponds to the strength you calculated in #2 above.

#### Answer:

In the jitter plot, there is a large amount of variability observed for each category in terms of their actual prices. The data points for each category are scattered across a wide range of prices, and there are a number of outliers in some categories as well.

In addition to that, we can see that for some categories such as Home&Kitchen and Electronics, there is a wide range of actual prices, indicating a high degree of variability within those categories. On the other hand, for categories like Cables&Adapters and Office Products, the actual prices are mostly concentrated in a narrow range, indicating low variability.



## **Contributed by Divyajot Singh Mankan**

#### Reading Dataset

```{r}
library(readxl)
installed.packages("readxl")
Amazon_Subset4 <- read_xlsx("C:/Users/Sreelu/OneDrive - St. Clair College/Documents/St Clair/DAB501/Datasets/Amazon_Subset4.xlsx")
```


## Univariate Analysis

### 1.Numeric Variable

```{r}
ggplot(Amazon_Subset4)+
  geom_histogram(mapping=aes(x=discounted_price),color="black", fill="red",width = 0.8, stat="count")+
  xlab("Discounted Price \n Figure: 1.0") +
   labs(title="Bar Chart for Discounted price", 
           caption="Source: Amazon Sales Dataset") +
      theme(axis.text.x = element_text(angle=65, vjust=5))+
  theme_bw(12)+
  theme(plot.caption= element_text(size=10,
                               color="purple",
                                   face="bold",
                                  vjust = 5)) 
```

#### Question:1

Clean the data for any outlier/extreme values using the filtering technique and create an appropriate plot to visualize the distribution of this variable.

#### Answer:

```{r}
Amazon_Subset4 <- filter(Amazon_Subset4, discounted_price <= 4000)
ggplot(Amazon_Subset4, aes(x = discounted_price)) +
  geom_histogram(color = "black", fill = "#4CAF50", binwidth = 500) +
  xlab("Discounted Price \n Figure: 1.2") +
  ggtitle("Histogram of Discounted Price") +
  xlim(50, 4000) +
  theme_minimal() +
  labs(caption = "Source: Amazon Sales Dataset") +
  theme(axis.text.x = element_text(angle = 65, vjust = 0.6, hjust = 1),
        axis.title.x = element_text(size = 14, face = "bold"),
        axis.title.y = element_text(size = 14, face = "bold"),
        plot.title = element_text(size = 20, face = "bold", hjust = 0.5)) 
```

#### Plot Description:

The histogram is right-skewed, which means that the distribution of discounted prices is not symmetric, and the tail of the distribution is longer on the right side. This indicates that there are fewer products with high discounted prices and more products with low discounted prices.

The majority of the products in the subset have lower discounted prices, with a decreasing frequency as the price increases. This suggests that Amazon may be offering more small discounts on most of its products, while larger discounts are relatively rare.


#### Question: 2
Continued from #1, for any outliers present in the data. Specify the criteria used to identify them and provide a logical explanation for how you handled them.

#### Answer: 

Here, we filtered out extreme outliers from the subset of Amazon sales data based on the discounted price variable, specifically keeping only observations where the discounted price was less than or equal to $4000.

For example, it's possible that the data contained a few extreme values for the discounted price that were far higher than the rest of the data, which could skew the results of any analysis or visualization. By filtering out those extreme values, the resulting histogram is more representative of the majority of the data and provides a clearer picture of the distribution of the discounted price variable.

The specific threshold of $4000 was likely chosen based on the distribution of the data and the goals of the analysis.

#### Question: 3

Describe the shape of the data.

#### Answer:

histogram of the discounted price variable appears to have a right-skewed distribution. This is because the majority of observations appear to have a lower value of discounted price, with fewer observations having higher values of discounted price.

A right-skewed distribution is also sometimes referred to as a positive skew, as the tail of the distribution is on the right-hand side, indicating that there are relatively fewer extreme values on the higher end of the scale. In this case, it suggests that most products have a small discount, with only a few products having a larger discount.

#### Question: 4

Based on your answer to the previous question, decide if it is appropriate to apply a transformation to your data. If no, explain why not. If yes, name the transformation applied and visualize the transformed distribution.

#### Answer:

Based on the fact that the data is right-skewed, it may be appropriate to apply a transformation to the data in order to better approximate a normal distribution. A common transformation for right-skewed data is the logarithmic transformation, which can help to "pull in" the tail of the distribution and make it more symmetric.

To apply a logarithmic transformation to the discounted price variable, we can take the natural logarithm of each observation:

```{r}
Amazon_Subset4$log_discounted_price <- log(Amazon_Subset4$discounted_price)
ggplot(Amazon_Subset4, aes(x = log_discounted_price)) +
  geom_histogram(color = "black", fill = "lightgreen", binwidth = 0.5) +
  xlab("Log of Discounted Price \n Figure: 1.3") +
  ggtitle("Histogram of discounted price (log transformed)") +
  theme_bw(12) +
  labs(caption = "Source: Amazon Sales Dataset") +
  theme(axis.text.x = element_text(angle = 65, vjust = 0.6, hjust = 1)) 
```

#### Plot Description:

To address the issue of imbalanced data with high values in the actual price range, a logarithmic transformation was applied. This has resulted in a left-skewed or moderately symmetric, unimodal distribution of the data as observed in the plot.

#### Question: 5

Choose and calculate an appropriate measure of central tendency (Mean, Median, and Mode).

#### Answer:

The log transformation resulted in a left-skewed or moderately symmetric, unimodal distribution, then the mean may be a reasonable measure of central tendency. The log transformation can reduce the influence of extreme values and make the data more symmetric, which makes the mean a more appropriate measure.

To calculate the mean of the log-transformed discounted price variable, we can use R's mean() function:


```{r}
mean(Amazon_Subset4$log_discounted_price)

```

#### Question : 6

Explain why you chose this as your measure of central tendency. Provide supporting evidence for your choice.

#### Answer: 

We chose the mean as the measure of central tendency for the log-transformed discounted price variable because the log transformation can make the data more symmetric and reduce the influence of extreme values. In a symmetric distribution, the mean is the most representative measure of central tendency as it balances the values on both sides of the distribution equally.

Supporting evidence for this choice comes from the shape of the distribution. If the log transformation has resulted in a left-skewed or moderately symmetric, unimodal distribution, then the mean would be a reasonable measure of central tendency. This is because in such a distribution, the mean and median would be similar, and the mean would not be affected much by extreme values.


#### Question: 7

Choose and calculate a measure of spread (SD, MAD or IQR) that is appropriate for your chosen measure of central tendency. Explain why you chose this as your measure of spread.

#### Answer:

we chose the mean as the measure of central tendency for the log-transformed discounted price variable, a suitable measure of spread would be the standard deviation (SD).

The log transformation has made the distribution more symmetric and reduced the influence of extreme values. The mean and standard deviation are useful for summarizing the location and spread of a symmetric distribution. Therefore, the standard deviation is an appropriate measure of spread for the log-transformed discounted price variable, as it can quantify the degree of variability in the data around the mean.


```{r}
sd(Amazon_Subset4$log_discounted_price)

```

### 2.Categorical Variable

#### Question: 1

Create an appropriate plot to visualize the distribution of counts for this variable.


```{r}
Amazon_Subset4 <- Amazon_Subset4 %>%
  mutate(category = cut(actual_price, breaks = c(-Inf, 100, 500, 5000, Inf), labels = c("Low", "Medium", "High", "Very_High")))

ggplot(Amazon_Subset4) +
  geom_bar(mapping = aes(x = category, y = ..count..,fill=category), color = "white", bins = 10, alpha = 1) +
  scale_x_discrete(labels = c("Low", "Medium", "High", "Very_High")) +
  theme_classic()+
  labs(title = "Histogram of Actual Prices",
       subtitle = "Amazon Sales Dataset",
       x = "Actual Price Category \n Figure: 2.1",
       y = "Count",
       caption = "Source: Amazon Sales Dataset") +
  theme(axis.text.x = element_text(angle = 65, vjust = 0.8))
```

#### Plot Description:

Here, The plot shows that the number of items in the High category is significantly larger than the number of items in the Medium category. The Very_High category is also relatively small in comparison to the High and Medium categories, indicating that the majority of items in the dataset have actual prices that are High and Low category items are relatively very low.

#### Question: 2

Create an appropriate plot to visualize the distribution of proportions for this variable.


```{r}
Amazon_Subset4 <- Amazon_Subset4 %>%
  mutate(category = cut(actual_price, breaks = c(-Inf, 100, 500, 5000, Inf), labels = c("Low", "Medium", "High", "Very_High")))

prop_table <- table(Amazon_Subset4$category) / nrow(Amazon_Subset4)
prop_df <- as.data.frame(prop_table)
prop_df$category <- row.names(prop_df)
colnames(prop_df) <- c("category","proportion")
ggplot(prop_df, aes(x = proportion,y = category,fill = category)) +
  geom_bar(stat = "identity") +
  theme_bw()+
  labs(title = "Proportions for Actual Price Categories",
       x = "Proportion \n Figure: 2.2",
       y = "Actual Price Category",
       caption = "Source: Amazon Sales Dataset") +
  theme(plot.title = element_text(size = 20, face = "bold"),
        plot.subtitle = element_text(size = 16),
        plot.caption = element_text(size = 12, face = "italic"),
        plot.background = element_rect(fill = "white"))

```

#### Plot Description:

plot showing the distribution of proportions for each category of the actual price variable. The proportion of each category has been calculated by dividing the frequency of each category by the total number of observations in the dataset.

The majority of products have actual prices in the High category, which account for around 80% of the dataset. The medium category represents around 16% of the products, while the low category is the least represented with only around 4% of the products falling in this category.

#### Question : 3

Discuss any unusual observations for this variable?

#### Answer:

The majority of products fall under the "High" and "Medium" price categories, with very few in the "Low" and "Very_High" categories. This suggests that Amazon is primarily selling higher-priced products. Additionally, the proportions of products in each category are not evenly distributed, with a larger proportion of products falling in the "High" and "Medium" categories, and a smaller proportion in the "Low" and "Very_High" categories. This suggests that there is a skew in the distribution towards the higher-priced products.

#### Question: 4

Discuss if there are too few/too many unique values?

#### Answer:

The variable has a wide range of values, so it makes sense to categorize it into different price ranges to make it more manageable for analysis. However, the number and distribution of the data points within each category could have an impact on the insights that can be drawn from the analysis.

here, we do not have too few or too many unique values in this converted categorical variable by grouping the actual price ranges.


## Bivariate Analysis

### 1.Plot with pair of numeric variables


```{r}
g <- ggplot(Amazon_Subset4, aes(actual_price, discounted_price,color = categories)) +
  geom_jitter(width = 10, height = 0, alpha = 0.6) + 
  labs(title="Scatter plot for discounted price over actual price of the categories",
       caption="Source: Amazon Sales Dataset", x = "Actual Price \n Figure: 3.1",
       y="Discount Price", color = "Category") + scale_x_continuous(limits = c(0, 6000))

g + theme_classic()

```

#### Plot Description: 

The plot illustrates this relationship, with most categories showing a positive trend where an increase in actual price leads to an increase in discounted price. The Home&Kitchen category stands out as the most popular sold item category, where the actual price tends to increase based on the discounted price.

#### Question 2:

Describe the form, direction, and strength of the observed relationship.

#### Answer:

Form: The form of the relationship is linear, meaning that as the actual price increases, the discounted price also tends to increase.

Direction: The direction of the plot is left to right, indicating the direction of the relationship is positive, meaning that as one variable increases, the other variable also tends to increase.

Strength: The strength of the relationship is strong, indicating that the two variables are highly correlated and have a close relationship.

#### Question 3:

Explain what this relationship means in the context of the data.

#### Answer:

The high positive correlation between the actual price and discounted price variables suggests that there is a strong relationship between the two variables. This means that as the actual price of an item increases, its discounted price also tends to increase.

In the context of the Amazon sales data, this relationship implies that customers are more likely to purchase items that have a higher discount relative to their actual price. 

```{r}
cor(Amazon_Subset4$actual_price, Amazon_Subset4$discounted_price)

```


#### Question 4:

Describe the variability that you observe in the plot and how that corresponds to the strength you calculated in #2 above.

#### Answer:

In the plot, we observe some variability in the data points around the linear trend line. This variability indicates that there is some amount of noise or randomness in the relationship between discounted price and actual price. The strength of the correlation we calculated in #2 above around (0.90) suggests that there is a strong positive linear relationship between the two variables, meaning that as the discounted price increases, the actual price tends to increase as well. 

However, the variability in the plot suggests that this relationship is not perfectly predictable, and there may be other factors that influence the relationship between these variables as well.



### 2.Plot with 1 numeric and 1 categorical variables


```{r}
g <- ggplot(Amazon_Subset4, aes(categories, discount_percentage))
g + geom_boxplot(varwidth=T, fill="plum", color="black", outlier.color="red", outlier.fill="white") + 
  theme_bw()+
    labs(title="Box plot for discounted percentage of categories",
         caption="Source: Amazon Sales Dataset", x = "Categories \n Figure: 3.2",
    y="Discount Percentage")
```


#### Plot Description:

The plot shows the distribution of discount percentage for different categories in the Amazon sales dataset. It indicates that Home&Kitchen, Electronics, and LaptopAccessories are the most popular categories with the highest discount percentage, while Cable&Adapters has the lowest discount percentage. InputDevices has a relatively high discount percentage, which is higher than the OfficeProducts category but lower than Home&Kitchen and Electronics.


#### Question 2:

Describe the form, direction, and strength of the observed relationship.

#### Answer:

Form: The form of the relationship is a box plot, which shows the distribution of the discount percentage for each category,where the central line represents the median of the distribution, the box represents the interquartile range, and the whiskers extend to show the range of the data, excluding any outliers.

Direction: The direction of the relationship is not applicable here as we are not comparing two variables.

Strength: The strength of the relationship can be interpreted as follows: The box plot shows that there is a significant amount of variability in the discount percentage for each category, with some categories having a higher median discount percentage than others. The range of the box and whiskers for each category indicates the degree of variability within that category.

#### Question 3:

Explain what this relationship means in the context of the data.

#### Answer:

The relationship between the categories and discount percentage can provide insights into the popularity of different categories among the customers and the amount of discount offered in each category. 

The plot shows that Home & Kitchen, Electronics, and Laptop Accessories are the most popular categories with the highest discount percentage, indicating that these categories may be in high demand among customers. On the other hand, categories such as Cable & Adapters have a very low discount percentage, suggesting that these categories may not be very popular among customers.


#### Question 4:

Describe the variability that you observe in the plot and how that corresponds to the strength you calculated in #2 above.

#### Answer:

The discount percentage varies widely across different categories of products. The boxplot shows that the categories with the highest median discount percentages are Home&Kitchen, Electronics, and LaptopAccessories. 

However, there is also a lot of variability within each category, as shown by the height of the boxes and the length of the whiskers. For example, the category Cable&Adapters has a very low median discount percentage and also has a very narrow range of values, while the category InputDevices has a higher median discount percentage but also has a wider range of values.


## **Contributed by Jibina Francise**

#### Reading Dataset

```{r}
library(readxl)
installed.packages("readxl")
Amazon_Subset4 <- read_xlsx("C:/Users/Sreelu/OneDrive - St. Clair College/Documents/St Clair/DAB501/Datasets/Amazon_Subset4.xlsx")
```

## Univariate Analysis

### 1.Numeric Variable Plot

```{r}
ggplot(Amazon_Subset4) +
  geom_histogram(mapping = aes(x = discount_percentage), color = "black", fill = "lightgreen", bins = 20) +
  labs(x= "Discount Percentage \n Figure 1.1", title = "Histogram for discounted price", caption = "Source: Amazon Sales Dataset") +
  theme(axis.text.x = element_text(angle = 65, vjust = 5)) +
  theme_grey(12) +
  theme(plot.caption = element_text(size = 10, color = "purple", face = "bold", vjust = 5))
```

#### Plot Descriptipn:

The histogram plot generated from the Amazon sales dataset shows the distribution of discount percentage rates for different categories of products. The plot reveals that discount percentage rates vary depending on the type of item, with values ranging from 0% to 90%. Additionally, the plot indicates that a significant portion of products has a high discount percentage rate of around 50%.

#### Question: 2

Continued from #1, for any outliers present in the data. Specify the criteria used to identify them and provide a logical explanation for how you handled them.

#### Answer: 

Based on the plot distribution, here are no clear outliers in the "discount_percentage" variable.

The minimum value is 0, which may or may not be considered an outlier depending on the context. The maximum value is 0.9, which is within the typical range of values for a percentage.

The median and mean are both around 0.4, with the interquartile range (IQR) spanning from 0.25 to 0.55. There are no values that are more than 1.5 times the IQR above the 75th percentile or below the 25th percentile, which suggests that there are no extreme outliers in the data. 

#### Question: 3

Describe the shape of the data.

#### Answer:

The shape of the data appears to be unimodal and roughly symmetric, with a peak around a discount percentage rate of 50%. The interquartile range (IQR) spans from 0.25 to 0.55, indicating that the middle 50% of the data is relatively tightly clustered around the median. There are no extreme outliers, and the range of values for the variable is from 0 to 0.9. Therefore, the shape of the data is roughly bell-shaped and shows no signs of significant skewness or multimodality.


#### Question: 4

Based on your answer to the previous question, decide if it is appropriate to apply a transformation to your data. If no, explain why not. If yes, name the transformation applied and visualize the transformed distribution.

#### Answer:

Based on the shape of the data, there are no clear signs of significant skewness or multimodality in the distribution of the "discount_percentage" variable, and there are no extreme outliers. Therefore, it may not be necessary to apply a transformation to the data and it may be appropriate to proceed with analyzing the data in its original form. 


#### Question: 5

Choose and calculate an appropriate measure of central tendency (Mean, Median, and Mode).

#### Answer:

we can choose and calculate an appropriate measure of central tendency for the "discount_percentage" variable. Since the distribution appears to be roughly symmetric, the mean and median are both reasonable measures of central tendency.

To calculate the mean, we can use the formula:

```{r}
mean(Amazon_Subset4$discount_percentage)

```
To calculate the mean, we can use the formula:

```{r}
median(Amazon_Subset4$discount_percentage)
```


#### Question : 6

Explain why you chose this as your measure of central tendency. Provide supporting evidence for your choice.

#### Answer: 

I chose both the mean and median as measures of central tendency because the distribution of the "discount_percentage" variable appears to be roughly symmetric with no extreme outliers.

In this case, the mean discount percentage is 0.3913. This suggests that, on average, items on Amazon are discounted by about 40.00%.

The median, on the other hand,is a robust measure of central tendency that is not influenced by extreme values or outliers. It is calculated by finding the middle value in the data. In this case, the median discount percentage is 0.4. This suggests that half of the items on Amazon are discounted by 40% or less, while the other half are discounted by more than 40%.

Together, the mean and median provide complementary information about the central tendency of the data. In this case, since the distribution appears to be roughly symmetric with no extreme outliers, both measures are reasonable and provide useful insights into the data.


#### Question: 7

Choose and calculate a measure of spread (SD, MAD or IQR) that is appropriate for your chosen measure of central tendency. Explain why you chose this as your measure of spread.

#### Answer:

Since we chose the median and mean as the measure of central tendency for the transformed data, an appropriate measure of spread would be the interquartile range (IQR).

The IQR is a robust measure of spread that is less sensitive to outliers and skewed distributions, making it a good choice to use with the median. It is calculated as the difference between the third quartile (Q3) and the first quartile (Q1) of the dataset:

The IQR can be interpreted as the range of values that contains the middle 50% of the data, making it a useful measure of spread for datasets that have a skewed distribution or contain outliers.
The standard deviation (SD) is a measure of spread that is often used with the mean as the measure of central tendency. However, since we are using the median as the measure of central tendency for the transformed data, the IQR is a better choice of measure of spread. MAD (Median Absolute Deviation) is also a robust measure of spread that is similar to IQR. However, IQR is more commonly used and easier to interpret in the context of quartiles.

We can calculate the MAD using the following code:


```{r}
Q1 <- quantile(Amazon_Subset4$discount_percentage, 0.25)
Q3 <- quantile(Amazon_Subset4$discount_percentage, 0.75)
IQR <- Q3 - Q1
print(IQR)

```

### 2.Categorical Variable

#### Question: 1

Create an appropriate plot to visualize the distribution of counts for this variable.

```{r}
Amazon_Subset4 <- Amazon_Subset4 %>%
  mutate(category = cut(discounted_price, breaks = c(-Inf, 1500, 5000, Inf), labels = c("low", "medium", "high")))

ggplot(Amazon_Subset4) +
  geom_bar(mapping = aes(x = category, y = ..count..,fill=category), color = "white", bins = 10, alpha = 1) +
  scale_x_discrete(labels = c("Low", "Medium", "High")) +
  labs(title = "Discount Prices of each categories",
       x = "Discount Price Category \n Figure 2.1",
       y = "Count",
       caption = "Source: Amazon Sales Dataset") +
  theme(axis.text.x = element_text(angle = 65, vjust = 0.8),
        plot.title = element_text(size = 20, face = "bold"),
        plot.subtitle = element_text(size = 16),
        plot.caption = element_text(size = 12, face = "italic"),
        plot.background = element_rect(fill = "white"))
```


#### Plot Description: 

Based on the plot, we can observe that the discount prices are grouped into three categories - Low, Medium, and High. The most popular discount price category is Low, with the highest number of items sold around 400. On the other hand, the lowest category is High, which has a lower number of items sold around 50 on the overall selected criteria in the Amazon sales dataset. The Medium category falls in between, with a count of items sold under 150. Overall, the plot suggests that there is a clear preference for lower discount prices among customers.

#### Question: 2

Create an appropriate plot to visualize the distribution of proportions for this variable.

```{r}
Amazon_Subset4 <- Amazon_Subset4 %>%
  mutate(category = cut(discounted_price, breaks = c(-Inf, 1500, 5000, Inf), labels = c("low", "medium", "high")))

prop_table <- table(Amazon_Subset4$category) / nrow(Amazon_Subset4)
prop_df <- as.data.frame(prop_table)
prop_df$category <- row.names(prop_df)
colnames(prop_df) <- c("proportion", "category")

ggplot(prop_df, aes(y = category, x = proportion, fill = category)) +
  geom_bar(stat = "identity") +
  labs(title = "Proportions for Discount Price Categories",
       x = "Discount Price Category \n Figure: 2.2",
       y = "Proportion",
       caption = "Source: Amazon Sales Dataset") +
  theme(plot.title = element_text(size = 20, face = "bold"),
        plot.subtitle = element_text(size = 16),
        plot.caption = element_text(size = 12, face = "italic"),
        plot.background = element_rect(fill = "white"))
    
```

#### Plot Description:

Plot showing the distribution of proportions for each category of the discount price variable. The proportion of each category has been calculated by dividing the frequency of each category by the total number of observations in the dataset.

The majority of products have discount prices in the Low category, which account for around 70% of the dataset. The medium category represents around 25% of the products, while the High category is the least represented with only around 10% of the products falling in this category.

#### Question : 3

Discuss any unusual observations for this variable?

#### Answer:

Based on the plot, there are no clear unusual observations for the variable of discount price proportions. The distribution is skewed towards the low category, which is the most common category, but this is not unusual given that discounts are often used to drive sales and low discounts may be more common than high discounts.

#### Question: 4

Discuss if there are too few/too many unique values?

#### Answer:

The variable has a wide range of values, so it makes sense to categorize it into different price ranges to make it more manageable for analysis. However, the number and distribution of the data points within each category could have an impact on the insights that can be drawn from the analysis.

here, we do not have too few or too many unique values in this converted categorical variable by grouping the discount price ranges.


## Bivariate Analysis

### 1.Plot with pair of numeric variables

```{r}
ggplot(Amazon_Subset4, aes(x = discount_percentage, y = discounted_price)) +
  geom_point(alpha = 0.3, color = "navy") +
  scale_x_continuous(limits = c(0, 1), expand = c(0, 0)) +
  scale_y_continuous(expand = c(0, 0)) +
  labs(title = "Discount percentage vs. discounted price",
       x = "Discount percentage \n Figure: 3.1",
       y = "Discounted price",
       caption = "Source: Amazon Sales Dataset") +
  theme_classic()+
  theme(plot.title = element_text(size = 20, face = "bold", hjust = 0.5),
        plot.caption = element_text(size = 10),
        axis.text = element_text(size = 12),
        axis.title = element_text(size = 14, face = "bold"),
        axis.line = element_line(color = "black"),
        panel.grid.major = element_line(color = "gray90"))

```

#### Plot Description:

The plot illustrates the association between discounted percentage and discount price, where the discount price is mostly below $10000 for the majority of discounted percentage categories ranging from 0% to around 90%. There are very few outliers with a discount price above $10000.
 

#### Question 2:
Describe the form, direction, and strength of the observed relationship.

#### Answer:

Form: The form of the relationship is approximately linear, with a slight curve upwards towards the right end of the plot.

Direction: The direction of the relationship is positive, which means that as the discounted percentage increases, the discount price also tends to increase.

Strength: The strength of the relationship is moderate, as there are some outliers and some variability in the discount price values for a given discounted percentage.

#### Question 3:

Explain what this relationship means in the context of the data.

#### Answer:

The relationship between the discounted percentage and discount price suggests that as the discount percentage increases, the discount price decreases. This is expected, as a higher discount percentage should result in a lower price. The majority of the discount prices are under $10000, with only a few outliers above this value, indicating that most of the products sold on Amazon have relatively low prices, even with high discount percentages.

Overall, this relationship suggests that Amazon is offering significant discounts on its products, with the majority of products having discount prices below $10000, and that customers are taking advantage of these discounts by purchasing products at lower prices.

```{r}
cor(Amazon_Subset4$discount_percentage, Amazon_Subset4$discounted_price)

```


#### Question 4:

Describe the variability that you observe in the plot and how that corresponds to the strength you calculated in #2 above.

#### Answer:

The plot shows a lot of variability in the data points, particularly in the discounted price variable, with some values reaching very high values. However, the strength of the correlation between the two variables is very weak, with a value of -0.026. This means that there is little linear relationship between the two variables, and that the variability seen in the plot is not well explained by the linear relationship between discounted percentage and discounted price. It is possible that other factors, such as the category or brand of the products, may be contributing to the variability seen in the plot.


### 2.Plot with 1 numeric and 1 categorical variables


```{r}
Amazon_Subset4$rating <- as.numeric(Amazon_Subset4$rating)
g <- ggplot(Amazon_Subset4, aes(categories, rating, color = categories)) +
  geom_jitter(width = 0.2, size = 2.5, alpha = 0.7) +
  labs(title="Jitter Plot for Product Categories and Ratings", 
       caption="Source: Amazon Sales Dataset",
       x="Categories \n Figure: 3.2",
       y="Ratings") +
  theme_few(base_size = 12) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "right",
    panel.grid.major = element_line(colour = "gray90"),
    panel.grid.minor = element_blank(),
    panel.border = element_blank(),
    axis.line = element_line(colour = "gray60")
  )
g

```


#### Plot Description:

This plot displays the count of ratings for each categorical variable. The most popular category, Home & Kitchen, has the highest rating, with the majority of the ratings above 4, but with a few outliers in the range of 2 to 3. Cable & Adapters, on the other hand, has very few ratings, with only 2 counts, but the rating range is above 4. The remaining categories, including Electronics, Laptop Accessories, and Office Products, have almost similar ratings. Input Devices has almost similar ratings to Cable & Adapters.


#### Question 2:

Describe the form, direction, and strength of the observed relationship.

#### Answer:

Form:The form of the relationship is scattered, indicating that there is no specific pattern or trend between the two variables.

Direction:The direction of the relationship is not applicable in this case as there is no specific trend or direction observed. 

Strength: The strength of the relationship can be described as weak to moderate.

#### Question 3:

Explain what this relationship means in the context of the data.

#### Answer:

The plot shows the relationship between the product categories and their corresponding ratings. It is observed that Home&Kitchen is the most popular category with the highest average rating of above 4, indicating that customers are highly satisfied with the products in this category. The category also has a few outliers with ratings ranging from 2 to 3, which indicates that there are some dissatisfied customers as well.

On the other hand, Cable&Adapters has the lowest count of ratings with only 2 instances, but the ratings are above 4, indicating that the products in this category have high customer satisfaction despite the low count. The categories of Electronics, LaptopAccessories, and OfficeProducts have almost similar average ratings, while InputDevices has a rating similar to that of Cable&Adapters.

The plot indicates that there is a weak relationship between product categories and their ratings, with some categories having a higher average rating than others. However, it is essential to note that this relationship is not necessarily causal, and further analysis may be required to identify the factors that contribute to higher customer satisfaction in some categories over others.

#### Question 4:

Describe the variability that you observe in the plot and how that corresponds to the strength you calculated in #2 above.

#### Answer:

we can see that the ratings are quite variable within each category. For example, within the Home & Kitchen category, there are some products with ratings as low as 2 or 3, while others have ratings as high as 5. Similarly, in the Cable & Adapters category, there are only two products, but both have high ratings above 4. This high variability within categories is reflected in the weak correlation coefficient calculated in #2 above. It suggests that the relationship between category and rating is not very strong, and that there is a lot of variability within each category.


## **Academic Integrity**

We, *Srilakshmi Gummadidala*, *Divyajot singh Mankan*, and *Jibina Francise*, hereby state that we have not communicated with or gained information in any way from any person or resource that would violate the College’s academic integrity policies, and that all work presented is our own. In addition, we also agree not to share our work in any way, before or after submission, that would violate the College’s academic integrity policies.


#### References:

1.Class Lectures/Labs and Data camp courses for selection criteria used for ploting and for better visualization. 

2.Cheat sheet for ggplot: https://www.maths.usyd.edu.au/u/UG/SM/STAT3022/r/current/Misc/data-visualization-2.1.pdf


## **Thank You!**

